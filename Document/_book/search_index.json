{"index":{"version":"0.5.12","fields":[{"name":"title","boost":10},{"name":"keywords","boost":15},{"name":"body","boost":1}],"ref":"url","documentStore":{"store":{"./":["introduct"],"CHAPTER-1/":["嵌入式系统由来"],"CHAPTER-1/嵌入式应用模式.html":["*/","/*","0;","10k左右）","1;","=","call","event_flag1","event_flag1=0;","event_flag1=1;","event_flag2","event_flag2=0;","event_flag2=1;","event_flag3","event_flag3=0;","event_flag3=1;","extern","handle_event1();","handle_event2();","handle_event3();","handleevent1();","handleevent1(void);","handleevent2();","handleevent2(void);","handleevent3();","handleevent3(void);","hardware_init();","if(event_flag1){","if(event_flag2){","if(event_flag3){","int","irq1_handler(void){","irq2_handler(void){","irq3_handler(void){","main(void){","param){","rtos_init();","rtos_notify(1)","rtos_notify(1);","rtos_notify(2)","rtos_notify(2);","rtos_notify(3)","rtos_notify(3);","rtos_startup();","rtos_wait(1);","rtos_wait(2);","rtos_wait(3);","simpleevent1process();","simpleevent2process();","task1","task1(void*","task1_init();","task2","task2(void*","task2_init();","task3","task3(void*","task3_init();","until","void","wait","while(1){","}","​","【优点】","【缺点】","任务可以按重要程度划分优先级，a任务执行时，收到了b任务的事件，因为b事件更重要，需要马上处理，这时就需要先暂停a任务的执行，切换到b任务，当b任务完成后再回到a任务继续执行","前台程序（中端处理程序）的优先级比后台程序（大循环）的优先级高，当发生中断时，会停止大循环的执行，切换到中断对应的处理程序中。如果中断中只需要简单的设置一下标志位，如event_flag1=1;，或者记录一下事件发生的次数，如event_count1++;可以直接在中断处理程序中完成，但是如果处理过程比较复杂，占用cpu时间比较长，就需要尽快退出中断程序，在后台程序中进行处理；如果不及时退出，中断发生频率很高的情况下，会导致错过中断事件的情况；","前后台系统","前后台系统由前台、后台两部分构成。前台是中断处理程序，后台是一个大循环，大致的结构如下：","复杂的应用系统中，可以运行多个不同的任务：","实时多任务系统","实时多任务系统的结构如下:","实时性高，按事件重要程度响应，事件发生时立即调用对应的任务执行","实时系统需要占用额外的cpu资源和内存、rom等资源（最小系统在5k","将系统功能划分为多个小任务，提升了系统的重用性，更容易测试，更好维护","嵌入式应用模式","常见的嵌入式应用有2种：","应用结构简单，对于逻辑简单的应用开发起来非常容易入手","应用逻辑复杂时，需要小心设计和处理","当任务相关的事件发生时，任务被唤醒，并继续执行；","当任务相关的事件没有发生时，任务可以休息，不会占用系统资源；","每个任务就像一个工人，专职负责一个任务；","系统资源利用更合理，能将cpu执行时间划分为不同的小片段，想通优先级的任务，按时间片段轮流执行","需要在后台程序中进行多个条件判断，实时性不够，对实时性要求高的应用不太合适"]},"length":3},"tokenStore":{"root":{"0":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.018633540372670808}}}},"1":{"0":{"docs":{},"k":{"docs":{},"左":{"docs":{},"右":{"docs":{},"）":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}},"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.018633540372670808}}}},"docs":{},"i":{"docs":{},"n":{"docs":{},"t":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.049689440993788817}},"r":{"docs":{},"o":{"docs":{},"d":{"docs":{},"u":{"docs":{},"c":{"docs":{},"t":{"docs":{"./":{"ref":"./","tf":11}}}}}}}}}},"f":{"docs":{},"(":{"docs":{},"e":{"docs":{},"v":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"_":{"docs":{},"f":{"docs":{},"l":{"docs":{},"a":{"docs":{},"g":{"1":{"docs":{},")":{"docs":{},"{":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.012422360248447204}}}}},"2":{"docs":{},")":{"docs":{},"{":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.012422360248447204}}}}},"3":{"docs":{},")":{"docs":{},"{":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.012422360248447204}}}}},"docs":{}}}}}}}}}}}}},"r":{"docs":{},"q":{"1":{"docs":{},"_":{"docs":{},"h":{"docs":{},"a":{"docs":{},"n":{"docs":{},"d":{"docs":{},"l":{"docs":{},"e":{"docs":{},"r":{"docs":{},"(":{"docs":{},"v":{"docs":{},"o":{"docs":{},"i":{"docs":{},"d":{"docs":{},")":{"docs":{},"{":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.012422360248447204}}}}}}}}}}}}}}}}}},"2":{"docs":{},"_":{"docs":{},"h":{"docs":{},"a":{"docs":{},"n":{"docs":{},"d":{"docs":{},"l":{"docs":{},"e":{"docs":{},"r":{"docs":{},"(":{"docs":{},"v":{"docs":{},"o":{"docs":{},"i":{"docs":{},"d":{"docs":{},")":{"docs":{},"{":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.012422360248447204}}}}}}}}}}}}}}}}}},"3":{"docs":{},"_":{"docs":{},"h":{"docs":{},"a":{"docs":{},"n":{"docs":{},"d":{"docs":{},"l":{"docs":{},"e":{"docs":{},"r":{"docs":{},"(":{"docs":{},"v":{"docs":{},"o":{"docs":{},"i":{"docs":{},"d":{"docs":{},")":{"docs":{},"{":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.012422360248447204}}}}}}}}}}}}}}}}}},"docs":{}}}},"嵌":{"docs":{},"入":{"docs":{},"式":{"docs":{},"系":{"docs":{},"统":{"docs":{},"由":{"docs":{},"来":{"docs":{"CHAPTER-1/":{"ref":"CHAPTER-1/","tf":11}}}}}},"应":{"docs":{},"用":{"docs":{},"模":{"docs":{},"式":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":10.006211180124224}}}}}}}}},"*":{"docs":{},"/":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.018633540372670808}}}},"/":{"docs":{},"*":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.018633540372670808}}}},"=":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.037267080745341616}}},"c":{"docs":{},"a":{"docs":{},"l":{"docs":{},"l":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.018633540372670808}}}}}},"e":{"docs":{},"v":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"_":{"docs":{},"f":{"docs":{},"l":{"docs":{},"a":{"docs":{},"g":{"1":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.012422360248447204}},"=":{"0":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}},"1":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}},"docs":{}}},"2":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.012422360248447204}},"=":{"0":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}},"1":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}},"docs":{}}},"3":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.012422360248447204}},"=":{"0":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}},"1":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}},"docs":{}}},"docs":{}}}}}}}}}},"x":{"docs":{},"t":{"docs":{},"e":{"docs":{},"r":{"docs":{},"n":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.018633540372670808}}}}}}}},"h":{"docs":{},"a":{"docs":{},"n":{"docs":{},"d":{"docs":{},"l":{"docs":{},"e":{"docs":{},"_":{"docs":{},"e":{"docs":{},"v":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"1":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}},"2":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}},"3":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}},"docs":{}}}}}}},"e":{"docs":{},"v":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"1":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}},"v":{"docs":{},"o":{"docs":{},"i":{"docs":{},"d":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}},"2":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}},"v":{"docs":{},"o":{"docs":{},"i":{"docs":{},"d":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}},"3":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}},"v":{"docs":{},"o":{"docs":{},"i":{"docs":{},"d":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}},"docs":{}}}}}}}}}},"r":{"docs":{},"d":{"docs":{},"w":{"docs":{},"a":{"docs":{},"r":{"docs":{},"e":{"docs":{},"_":{"docs":{},"i":{"docs":{},"n":{"docs":{},"i":{"docs":{},"t":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}},"m":{"docs":{},"a":{"docs":{},"i":{"docs":{},"n":{"docs":{},"(":{"docs":{},"v":{"docs":{},"o":{"docs":{},"i":{"docs":{},"d":{"docs":{},")":{"docs":{},"{":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.012422360248447204}}}}}}}}}}}}},"p":{"docs":{},"a":{"docs":{},"r":{"docs":{},"a":{"docs":{},"m":{"docs":{},")":{"docs":{},"{":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.018633540372670808}}}}}}}}},"r":{"docs":{},"t":{"docs":{},"o":{"docs":{},"s":{"docs":{},"_":{"docs":{},"i":{"docs":{},"n":{"docs":{},"i":{"docs":{},"t":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}},"n":{"docs":{},"o":{"docs":{},"t":{"docs":{},"i":{"docs":{},"f":{"docs":{},"y":{"docs":{},"(":{"1":{"docs":{},")":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}},"2":{"docs":{},")":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}},"3":{"docs":{},")":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}},"docs":{}}}}}}}},"s":{"docs":{},"t":{"docs":{},"a":{"docs":{},"r":{"docs":{},"t":{"docs":{},"u":{"docs":{},"p":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}},"w":{"docs":{},"a":{"docs":{},"i":{"docs":{},"t":{"docs":{},"(":{"1":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}},"2":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}},"3":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}},"docs":{}}}}}}}}}}},"s":{"docs":{},"i":{"docs":{},"m":{"docs":{},"p":{"docs":{},"l":{"docs":{},"e":{"docs":{},"e":{"docs":{},"v":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"1":{"docs":{},"p":{"docs":{},"r":{"docs":{},"o":{"docs":{},"c":{"docs":{},"e":{"docs":{},"s":{"docs":{},"s":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}},"2":{"docs":{},"p":{"docs":{},"r":{"docs":{},"o":{"docs":{},"c":{"docs":{},"e":{"docs":{},"s":{"docs":{},"s":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}},"docs":{}}}}}}}}}}}},"t":{"docs":{},"a":{"docs":{},"s":{"docs":{},"k":{"1":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}},"(":{"docs":{},"v":{"docs":{},"o":{"docs":{},"i":{"docs":{},"d":{"docs":{},"*":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}},"_":{"docs":{},"i":{"docs":{},"n":{"docs":{},"i":{"docs":{},"t":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}},"2":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}},"(":{"docs":{},"v":{"docs":{},"o":{"docs":{},"i":{"docs":{},"d":{"docs":{},"*":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}},"_":{"docs":{},"i":{"docs":{},"n":{"docs":{},"i":{"docs":{},"t":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}},"3":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}},"(":{"docs":{},"v":{"docs":{},"o":{"docs":{},"i":{"docs":{},"d":{"docs":{},"*":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}},"_":{"docs":{},"i":{"docs":{},"n":{"docs":{},"i":{"docs":{},"t":{"docs":{},"(":{"docs":{},")":{"docs":{},";":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}},"docs":{}}}}},"u":{"docs":{},"n":{"docs":{},"t":{"docs":{},"i":{"docs":{},"l":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.018633540372670808}}}}}}},"v":{"docs":{},"o":{"docs":{},"i":{"docs":{},"d":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.07453416149068323}}}}}},"w":{"docs":{},"a":{"docs":{},"i":{"docs":{},"t":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.018633540372670808}}}}},"h":{"docs":{},"i":{"docs":{},"l":{"docs":{},"e":{"docs":{},"(":{"1":{"docs":{},")":{"docs":{},"{":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.024844720496894408}}}}},"docs":{}}}}}}},"}":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.13043478260869565}}},"​":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}},"【":{"docs":{},"优":{"docs":{},"点":{"docs":{},"】":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.012422360248447204}}}}},"缺":{"docs":{},"点":{"docs":{},"】":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.012422360248447204}}}}}},"任":{"docs":{},"务":{"docs":{},"可":{"docs":{},"以":{"docs":{},"按":{"docs":{},"重":{"docs":{},"要":{"docs":{},"程":{"docs":{},"度":{"docs":{},"划":{"docs":{},"分":{"docs":{},"优":{"docs":{},"先":{"docs":{},"级":{"docs":{},"，":{"docs":{},"a":{"docs":{},"任":{"docs":{},"务":{"docs":{},"执":{"docs":{},"行":{"docs":{},"时":{"docs":{},"，":{"docs":{},"收":{"docs":{},"到":{"docs":{},"了":{"docs":{},"b":{"docs":{},"任":{"docs":{},"务":{"docs":{},"的":{"docs":{},"事":{"docs":{},"件":{"docs":{},"，":{"docs":{},"因":{"docs":{},"为":{"docs":{},"b":{"docs":{},"事":{"docs":{},"件":{"docs":{},"更":{"docs":{},"重":{"docs":{},"要":{"docs":{},"，":{"docs":{},"需":{"docs":{},"要":{"docs":{},"马":{"docs":{},"上":{"docs":{},"处":{"docs":{},"理":{"docs":{},"，":{"docs":{},"这":{"docs":{},"时":{"docs":{},"就":{"docs":{},"需":{"docs":{},"要":{"docs":{},"先":{"docs":{},"暂":{"docs":{},"停":{"docs":{},"a":{"docs":{},"任":{"docs":{},"务":{"docs":{},"的":{"docs":{},"执":{"docs":{},"行":{"docs":{},"，":{"docs":{},"切":{"docs":{},"换":{"docs":{},"到":{"docs":{},"b":{"docs":{},"任":{"docs":{},"务":{"docs":{},"，":{"docs":{},"当":{"docs":{},"b":{"docs":{},"任":{"docs":{},"务":{"docs":{},"完":{"docs":{},"成":{"docs":{},"后":{"docs":{},"再":{"docs":{},"回":{"docs":{},"到":{"docs":{},"a":{"docs":{},"任":{"docs":{},"务":{"docs":{},"继":{"docs":{},"续":{"docs":{},"执":{"docs":{},"行":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"前":{"docs":{},"台":{"docs":{},"程":{"docs":{},"序":{"docs":{},"（":{"docs":{},"中":{"docs":{},"端":{"docs":{},"处":{"docs":{},"理":{"docs":{},"程":{"docs":{},"序":{"docs":{},"）":{"docs":{},"的":{"docs":{},"优":{"docs":{},"先":{"docs":{},"级":{"docs":{},"比":{"docs":{},"后":{"docs":{},"台":{"docs":{},"程":{"docs":{},"序":{"docs":{},"（":{"docs":{},"大":{"docs":{},"循":{"docs":{},"环":{"docs":{},"）":{"docs":{},"的":{"docs":{},"优":{"docs":{},"先":{"docs":{},"级":{"docs":{},"高":{"docs":{},"，":{"docs":{},"当":{"docs":{},"发":{"docs":{},"生":{"docs":{},"中":{"docs":{},"断":{"docs":{},"时":{"docs":{},"，":{"docs":{},"会":{"docs":{},"停":{"docs":{},"止":{"docs":{},"大":{"docs":{},"循":{"docs":{},"环":{"docs":{},"的":{"docs":{},"执":{"docs":{},"行":{"docs":{},"，":{"docs":{},"切":{"docs":{},"换":{"docs":{},"到":{"docs":{},"中":{"docs":{},"断":{"docs":{},"对":{"docs":{},"应":{"docs":{},"的":{"docs":{},"处":{"docs":{},"理":{"docs":{},"程":{"docs":{},"序":{"docs":{},"中":{"docs":{},"。":{"docs":{},"如":{"docs":{},"果":{"docs":{},"中":{"docs":{},"断":{"docs":{},"中":{"docs":{},"只":{"docs":{},"需":{"docs":{},"要":{"docs":{},"简":{"docs":{},"单":{"docs":{},"的":{"docs":{},"设":{"docs":{},"置":{"docs":{},"一":{"docs":{},"下":{"docs":{},"标":{"docs":{},"志":{"docs":{},"位":{"docs":{},"，":{"docs":{},"如":{"docs":{},"e":{"docs":{},"v":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"_":{"docs":{},"f":{"docs":{},"l":{"docs":{},"a":{"docs":{},"g":{"1":{"docs":{},"=":{"1":{"docs":{},";":{"docs":{},"，":{"docs":{},"或":{"docs":{},"者":{"docs":{},"记":{"docs":{},"录":{"docs":{},"一":{"docs":{},"下":{"docs":{},"事":{"docs":{},"件":{"docs":{},"发":{"docs":{},"生":{"docs":{},"的":{"docs":{},"次":{"docs":{},"数":{"docs":{},"，":{"docs":{},"如":{"docs":{},"e":{"docs":{},"v":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"_":{"docs":{},"c":{"docs":{},"o":{"docs":{},"u":{"docs":{},"n":{"docs":{},"t":{"1":{"docs":{},"+":{"docs":{},"+":{"docs":{},";":{"docs":{},"可":{"docs":{},"以":{"docs":{},"直":{"docs":{},"接":{"docs":{},"在":{"docs":{},"中":{"docs":{},"断":{"docs":{},"处":{"docs":{},"理":{"docs":{},"程":{"docs":{},"序":{"docs":{},"中":{"docs":{},"完":{"docs":{},"成":{"docs":{},"，":{"docs":{},"但":{"docs":{},"是":{"docs":{},"如":{"docs":{},"果":{"docs":{},"处":{"docs":{},"理":{"docs":{},"过":{"docs":{},"程":{"docs":{},"比":{"docs":{},"较":{"docs":{},"复":{"docs":{},"杂":{"docs":{},"，":{"docs":{},"占":{"docs":{},"用":{"docs":{},"c":{"docs":{},"p":{"docs":{},"u":{"docs":{},"时":{"docs":{},"间":{"docs":{},"比":{"docs":{},"较":{"docs":{},"长":{"docs":{},"，":{"docs":{},"就":{"docs":{},"需":{"docs":{},"要":{"docs":{},"尽":{"docs":{},"快":{"docs":{},"退":{"docs":{},"出":{"docs":{},"中":{"docs":{},"断":{"docs":{},"程":{"docs":{},"序":{"docs":{},"，":{"docs":{},"在":{"docs":{},"后":{"docs":{},"台":{"docs":{},"程":{"docs":{},"序":{"docs":{},"中":{"docs":{},"进":{"docs":{},"行":{"docs":{},"处":{"docs":{},"理":{"docs":{},"；":{"docs":{},"如":{"docs":{},"果":{"docs":{},"不":{"docs":{},"及":{"docs":{},"时":{"docs":{},"退":{"docs":{},"出":{"docs":{},"，":{"docs":{},"中":{"docs":{},"断":{"docs":{},"发":{"docs":{},"生":{"docs":{},"频":{"docs":{},"率":{"docs":{},"很":{"docs":{},"高":{"docs":{},"的":{"docs":{},"情":{"docs":{},"况":{"docs":{},"下":{"docs":{},"，":{"docs":{},"会":{"docs":{},"导":{"docs":{},"致":{"docs":{},"错":{"docs":{},"过":{"docs":{},"中":{"docs":{},"断":{"docs":{},"事":{"docs":{},"件":{"docs":{},"的":{"docs":{},"情":{"docs":{},"况":{"docs":{},"；":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"docs":{}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"docs":{}}},"docs":{}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"后":{"docs":{},"台":{"docs":{},"系":{"docs":{},"统":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}},"由":{"docs":{},"前":{"docs":{},"台":{"docs":{},"、":{"docs":{},"后":{"docs":{},"台":{"docs":{},"两":{"docs":{},"部":{"docs":{},"分":{"docs":{},"构":{"docs":{},"成":{"docs":{},"。":{"docs":{},"前":{"docs":{},"台":{"docs":{},"是":{"docs":{},"中":{"docs":{},"断":{"docs":{},"处":{"docs":{},"理":{"docs":{},"程":{"docs":{},"序":{"docs":{},"，":{"docs":{},"后":{"docs":{},"台":{"docs":{},"是":{"docs":{},"一":{"docs":{},"个":{"docs":{},"大":{"docs":{},"循":{"docs":{},"环":{"docs":{},"，":{"docs":{},"大":{"docs":{},"致":{"docs":{},"的":{"docs":{},"结":{"docs":{},"构":{"docs":{},"如":{"docs":{},"下":{"docs":{},"：":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"复":{"docs":{},"杂":{"docs":{},"的":{"docs":{},"应":{"docs":{},"用":{"docs":{},"系":{"docs":{},"统":{"docs":{},"中":{"docs":{},"，":{"docs":{},"可":{"docs":{},"以":{"docs":{},"运":{"docs":{},"行":{"docs":{},"多":{"docs":{},"个":{"docs":{},"不":{"docs":{},"同":{"docs":{},"的":{"docs":{},"任":{"docs":{},"务":{"docs":{},"：":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}}}}}}},"实":{"docs":{},"时":{"docs":{},"多":{"docs":{},"任":{"docs":{},"务":{"docs":{},"系":{"docs":{},"统":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}},"的":{"docs":{},"结":{"docs":{},"构":{"docs":{},"如":{"docs":{},"下":{"docs":{},":":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}},"性":{"docs":{},"高":{"docs":{},"，":{"docs":{},"按":{"docs":{},"事":{"docs":{},"件":{"docs":{},"重":{"docs":{},"要":{"docs":{},"程":{"docs":{},"度":{"docs":{},"响":{"docs":{},"应":{"docs":{},"，":{"docs":{},"事":{"docs":{},"件":{"docs":{},"发":{"docs":{},"生":{"docs":{},"时":{"docs":{},"立":{"docs":{},"即":{"docs":{},"调":{"docs":{},"用":{"docs":{},"对":{"docs":{},"应":{"docs":{},"的":{"docs":{},"任":{"docs":{},"务":{"docs":{},"执":{"docs":{},"行":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"系":{"docs":{},"统":{"docs":{},"需":{"docs":{},"要":{"docs":{},"占":{"docs":{},"用":{"docs":{},"额":{"docs":{},"外":{"docs":{},"的":{"docs":{},"c":{"docs":{},"p":{"docs":{},"u":{"docs":{},"资":{"docs":{},"源":{"docs":{},"和":{"docs":{},"内":{"docs":{},"存":{"docs":{},"、":{"docs":{},"r":{"docs":{},"o":{"docs":{},"m":{"docs":{},"等":{"docs":{},"资":{"docs":{},"源":{"docs":{},"（":{"docs":{},"最":{"docs":{},"小":{"docs":{},"系":{"docs":{},"统":{"docs":{},"在":{"5":{"docs":{},"k":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}},"docs":{}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"将":{"docs":{},"系":{"docs":{},"统":{"docs":{},"功":{"docs":{},"能":{"docs":{},"划":{"docs":{},"分":{"docs":{},"为":{"docs":{},"多":{"docs":{},"个":{"docs":{},"小":{"docs":{},"任":{"docs":{},"务":{"docs":{},"，":{"docs":{},"提":{"docs":{},"升":{"docs":{},"了":{"docs":{},"系":{"docs":{},"统":{"docs":{},"的":{"docs":{},"重":{"docs":{},"用":{"docs":{},"性":{"docs":{},"，":{"docs":{},"更":{"docs":{},"容":{"docs":{},"易":{"docs":{},"测":{"docs":{},"试":{"docs":{},"，":{"docs":{},"更":{"docs":{},"好":{"docs":{},"维":{"docs":{},"护":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"常":{"docs":{},"见":{"docs":{},"的":{"docs":{},"嵌":{"docs":{},"入":{"docs":{},"式":{"docs":{},"应":{"docs":{},"用":{"docs":{},"有":{"2":{"docs":{},"种":{"docs":{},"：":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}},"docs":{}}}}}}}}}},"应":{"docs":{},"用":{"docs":{},"结":{"docs":{},"构":{"docs":{},"简":{"docs":{},"单":{"docs":{},"，":{"docs":{},"对":{"docs":{},"于":{"docs":{},"逻":{"docs":{},"辑":{"docs":{},"简":{"docs":{},"单":{"docs":{},"的":{"docs":{},"应":{"docs":{},"用":{"docs":{},"开":{"docs":{},"发":{"docs":{},"起":{"docs":{},"来":{"docs":{},"非":{"docs":{},"常":{"docs":{},"容":{"docs":{},"易":{"docs":{},"入":{"docs":{},"手":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}}}}}}}}}},"逻":{"docs":{},"辑":{"docs":{},"复":{"docs":{},"杂":{"docs":{},"时":{"docs":{},"，":{"docs":{},"需":{"docs":{},"要":{"docs":{},"小":{"docs":{},"心":{"docs":{},"设":{"docs":{},"计":{"docs":{},"和":{"docs":{},"处":{"docs":{},"理":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}}},"当":{"docs":{},"任":{"docs":{},"务":{"docs":{},"相":{"docs":{},"关":{"docs":{},"的":{"docs":{},"事":{"docs":{},"件":{"docs":{},"发":{"docs":{},"生":{"docs":{},"时":{"docs":{},"，":{"docs":{},"任":{"docs":{},"务":{"docs":{},"被":{"docs":{},"唤":{"docs":{},"醒":{"docs":{},"，":{"docs":{},"并":{"docs":{},"继":{"docs":{},"续":{"docs":{},"执":{"docs":{},"行":{"docs":{},"；":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}},"没":{"docs":{},"有":{"docs":{},"发":{"docs":{},"生":{"docs":{},"时":{"docs":{},"，":{"docs":{},"任":{"docs":{},"务":{"docs":{},"可":{"docs":{},"以":{"docs":{},"休":{"docs":{},"息":{"docs":{},"，":{"docs":{},"不":{"docs":{},"会":{"docs":{},"占":{"docs":{},"用":{"docs":{},"系":{"docs":{},"统":{"docs":{},"资":{"docs":{},"源":{"docs":{},"；":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"每":{"docs":{},"个":{"docs":{},"任":{"docs":{},"务":{"docs":{},"就":{"docs":{},"像":{"docs":{},"一":{"docs":{},"个":{"docs":{},"工":{"docs":{},"人":{"docs":{},"，":{"docs":{},"专":{"docs":{},"职":{"docs":{},"负":{"docs":{},"责":{"docs":{},"一":{"docs":{},"个":{"docs":{},"任":{"docs":{},"务":{"docs":{},"；":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}}}}}},"系":{"docs":{},"统":{"docs":{},"资":{"docs":{},"源":{"docs":{},"利":{"docs":{},"用":{"docs":{},"更":{"docs":{},"合":{"docs":{},"理":{"docs":{},"，":{"docs":{},"能":{"docs":{},"将":{"docs":{},"c":{"docs":{},"p":{"docs":{},"u":{"docs":{},"执":{"docs":{},"行":{"docs":{},"时":{"docs":{},"间":{"docs":{},"划":{"docs":{},"分":{"docs":{},"为":{"docs":{},"不":{"docs":{},"同":{"docs":{},"的":{"docs":{},"小":{"docs":{},"片":{"docs":{},"段":{"docs":{},"，":{"docs":{},"想":{"docs":{},"通":{"docs":{},"优":{"docs":{},"先":{"docs":{},"级":{"docs":{},"的":{"docs":{},"任":{"docs":{},"务":{"docs":{},"，":{"docs":{},"按":{"docs":{},"时":{"docs":{},"间":{"docs":{},"片":{"docs":{},"段":{"docs":{},"轮":{"docs":{},"流":{"docs":{},"执":{"docs":{},"行":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"需":{"docs":{},"要":{"docs":{},"在":{"docs":{},"后":{"docs":{},"台":{"docs":{},"程":{"docs":{},"序":{"docs":{},"中":{"docs":{},"进":{"docs":{},"行":{"docs":{},"多":{"docs":{},"个":{"docs":{},"条":{"docs":{},"件":{"docs":{},"判":{"docs":{},"断":{"docs":{},"，":{"docs":{},"实":{"docs":{},"时":{"docs":{},"性":{"docs":{},"不":{"docs":{},"够":{"docs":{},"，":{"docs":{},"对":{"docs":{},"实":{"docs":{},"时":{"docs":{},"性":{"docs":{},"要":{"docs":{},"求":{"docs":{},"高":{"docs":{},"的":{"docs":{},"应":{"docs":{},"用":{"docs":{},"不":{"docs":{},"太":{"docs":{},"合":{"docs":{},"适":{"docs":{"CHAPTER-1/嵌入式应用模式.html":{"ref":"CHAPTER-1/嵌入式应用模式.html","tf":0.006211180124223602}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"length":87},"corpusTokens":["*/","/*","0;","10k左右）","1;","=","call","event_flag1","event_flag1=0;","event_flag1=1;","event_flag2","event_flag2=0;","event_flag2=1;","event_flag3","event_flag3=0;","event_flag3=1;","extern","handle_event1();","handle_event2();","handle_event3();","handleevent1();","handleevent1(void);","handleevent2();","handleevent2(void);","handleevent3();","handleevent3(void);","hardware_init();","if(event_flag1){","if(event_flag2){","if(event_flag3){","int","introduct","irq1_handler(void){","irq2_handler(void){","irq3_handler(void){","main(void){","param){","rtos_init();","rtos_notify(1)","rtos_notify(1);","rtos_notify(2)","rtos_notify(2);","rtos_notify(3)","rtos_notify(3);","rtos_startup();","rtos_wait(1);","rtos_wait(2);","rtos_wait(3);","simpleevent1process();","simpleevent2process();","task1","task1(void*","task1_init();","task2","task2(void*","task2_init();","task3","task3(void*","task3_init();","until","void","wait","while(1){","}","​","【优点】","【缺点】","任务可以按重要程度划分优先级，a任务执行时，收到了b任务的事件，因为b事件更重要，需要马上处理，这时就需要先暂停a任务的执行，切换到b任务，当b任务完成后再回到a任务继续执行","前台程序（中端处理程序）的优先级比后台程序（大循环）的优先级高，当发生中断时，会停止大循环的执行，切换到中断对应的处理程序中。如果中断中只需要简单的设置一下标志位，如event_flag1=1;，或者记录一下事件发生的次数，如event_count1++;可以直接在中断处理程序中完成，但是如果处理过程比较复杂，占用cpu时间比较长，就需要尽快退出中断程序，在后台程序中进行处理；如果不及时退出，中断发生频率很高的情况下，会导致错过中断事件的情况；","前后台系统","前后台系统由前台、后台两部分构成。前台是中断处理程序，后台是一个大循环，大致的结构如下：","复杂的应用系统中，可以运行多个不同的任务：","实时多任务系统","实时多任务系统的结构如下:","实时性高，按事件重要程度响应，事件发生时立即调用对应的任务执行","实时系统需要占用额外的cpu资源和内存、rom等资源（最小系统在5k","将系统功能划分为多个小任务，提升了系统的重用性，更容易测试，更好维护","嵌入式应用模式","嵌入式系统由来","常见的嵌入式应用有2种：","应用结构简单，对于逻辑简单的应用开发起来非常容易入手","应用逻辑复杂时，需要小心设计和处理","当任务相关的事件发生时，任务被唤醒，并继续执行；","当任务相关的事件没有发生时，任务可以休息，不会占用系统资源；","每个任务就像一个工人，专职负责一个任务；","系统资源利用更合理，能将cpu执行时间划分为不同的小片段，想通优先级的任务，按时间片段轮流执行","需要在后台程序中进行多个条件判断，实时性不够，对实时性要求高的应用不太合适"],"pipeline":["stopWordFilter","stemmer"]},"store":{"./":{"url":"./","title":"Introduction","keywords":"","body":"Introduction\n"},"CHAPTER-1/":{"url":"CHAPTER-1/","title":"嵌入式系统由来","keywords":"","body":"嵌入式系统由来\n"},"CHAPTER-1/嵌入式应用模式.html":{"url":"CHAPTER-1/嵌入式应用模式.html","title":"嵌入式应用模式","keywords":"","body":"嵌入式应用模式\n常见的嵌入式应用有2种：\n\n前后台系统\n前后台系统由前台、后台两部分构成。前台是中断处理程序，后台是一个大循环，大致的结构如下：\nint event_flag1=0;\nint event_flag2=0;\nint event_flag3=0;\n\nextern void HandleEvent1(void);\nextern void HandleEvent2(void);\nextern void HandleEvent3(void);\n\nint main(void){\n    while(1){\n        if(event_flag1){\n            HandleEvent1();\n        }\n        if(event_flag2){\n            HandleEvent2();\n        }\n        if(event_flag3){\n            HandleEvent3();\n        }\n    }\n}\n\nvoid IRQ1_Handler(void){\n    event_flag1 = 1;\n    SimpleEvent1Process();\n}\n\nvoid IRQ2_Handler(void){\n    event_flag2 = 1;\n    SimpleEvent2Process();\n}\n\nvoid IRQ3_Handler(void){\n    event_flag3 = 1;\n}\n\n\n前台程序（中端处理程序）的优先级比后台程序（大循环）的优先级高，当发生中断时，会停止大循环的执行，切换到中断对应的处理程序中。如果中断中只需要简单的设置一下标志位，如event_flag1=1;，或者记录一下事件发生的次数，如event_count1++;可以直接在中断处理程序中完成，但是如果处理过程比较复杂，占用CPU时间比较长，就需要尽快退出中断程序，在后台程序中进行处理；如果不及时退出，中断发生频率很高的情况下，会导致错过中断事件的情况；\n\n【优点】\n\n应用结构简单，对于逻辑简单的应用开发起来非常容易入手\n\n【缺点】\n\n应用逻辑复杂时，需要小心设计和处理\n需要在后台程序中进行多个条件判断，实时性不够，对实时性要求高的应用不太合适\n\n\n\n\n实时多任务系统\n\n​    复杂的应用系统中，可以运行多个不同的任务：\n\n每个任务就像一个工人，专职负责一个任务；\n当任务相关的事件没有发生时，任务可以休息，不会占用系统资源；\n当任务相关的事件发生时，任务被唤醒，并继续执行；\n任务可以按重要程度划分优先级，A任务执行时，收到了B任务的事件，因为B事件更重要，需要马上处理，这时就需要先暂停A任务的执行，切换到B任务，当B任务完成后再回到A任务继续执行\n\n实时多任务系统的结构如下:\nint event_flag1 = 0;\nint event_flag2 = 0;\nint event_flag3 = 0;\n\nint main(void){\n    Hardware_Init();\n    RTOS_Init();\n    Task1_Init();\n    Task2_Init();\n    Task3_Init();\n    RTOS_Startup();\n}\n\nvoid IRQ1_Handler(void){\n    event_flag1=1;\n    RTOS_Notify(1);\n}\n\nvoid IRQ2_Handler(void){\n    event_flag2=1;\n    RTOS_Notify(2);\n}\n\nvoid IRQ3_Handler(void){\n    event_flag3=1;\n    RTOS_Notify(3);\n}\n\nvoid Task1(void* param){\n    while(1){\n        RTOS_Wait(1); /* Task1 will wait until RTOS_Notify(1) called */\n        if(event_flag1){\n            Handle_Event1();\n        }\n    }\n}\n\nvoid Task2(void* param){\n    while(1){\n        RTOS_Wait(2); /* Task2 will wait until RTOS_Notify(2) called */\n        if(event_flag2){\n            Handle_Event2();\n        }\n    }\n}\n\nvoid Task3(void* param){\n    while(1){\n        RTOS_Wait(3); /* Task3 will wait until RTOS_Notify(3) called */\n        if(event_flag3){\n            Handle_Event3();\n        }\n    }\n}\n\n【优点】\n\n实时性高，按事件重要程度响应，事件发生时立即调用对应的任务执行\n将系统功能划分为多个小任务，提升了系统的重用性，更容易测试，更好维护\n系统资源利用更合理，能将CPU执行时间划分为不同的小片段，想通优先级的任务，按时间片段轮流执行\n\n【缺点】\n\n实时系统需要占用额外的CPU资源和内存、ROM等资源（最小系统在5k-10k左右）\n\n"}}}